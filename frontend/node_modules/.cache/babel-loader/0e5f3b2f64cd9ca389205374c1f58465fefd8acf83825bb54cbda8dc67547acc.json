{"ast":null,"code":"import axios from 'axios';\nimport { ADDTASK, DELETETASK, GETALLTASK, LOGIN, MARKREADTASK, REGISTER } from './apiConstants';\n\n// Configure axios defaults\naxios.defaults.withCredentials = true;\n\n// Add request interceptor for debugging\naxios.interceptors.request.use(request => {\n  console.log('Starting Request:', request);\n  return request;\n});\n\n// Add response interceptor for debugging\naxios.interceptors.response.use(response => {\n  console.log('Response:', response);\n  return response;\n}, error => {\n  console.error('Response Error:', {\n    message: error.message,\n    response: error.response,\n    request: error.request,\n    config: error.config\n  });\n  return Promise.reject(error);\n});\nexport const login = async data => {\n  try {\n    console.log('Attempting to login with URL:', LOGIN);\n    const response = await axios.post(LOGIN, data, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    console.log('Login response:', response);\n    return response;\n  } catch (error) {\n    console.error('Login error details:', {\n      message: error.message,\n      response: error.response,\n      request: error.request,\n      config: error.config\n    });\n    throw error;\n  }\n};\nexport const register = data => {\n  return axios.post(REGISTER, data);\n};\nexport const addtask = data => {\n  let token = getToken();\n  console.log(\"token\", token);\n  return axios.post(ADDTASK, data, {\n    headers: {\n      auth: token\n    }\n  });\n};\nexport const getTaskList = data => {\n  let token = getToken();\n  return axios.get(GETALLTASK, {\n    headers: {\n      auth: token\n    }\n  });\n};\nexport const deleteTask = data => {\n  let token = getToken();\n  return axios.post(DELETETASK, data, {\n    headers: {\n      auth: token\n    }\n  });\n};\nexport const markReadTask = data => {\n  let token = getToken();\n  return axios.post(MARKREADTASK, data, {\n    headers: {\n      auth: token\n    }\n  });\n};\nexport function getToken() {\n  let user = localStorage.getItem('user');\n  if (!user) return;\n  const userObj = JSON.parse(user);\n  return userObj.token;\n}","map":{"version":3,"names":["axios","ADDTASK","DELETETASK","GETALLTASK","LOGIN","MARKREADTASK","REGISTER","defaults","withCredentials","interceptors","request","use","console","log","response","error","message","config","Promise","reject","login","data","post","headers","register","addtask","token","getToken","auth","getTaskList","get","deleteTask","markReadTask","user","localStorage","getItem","userObj","JSON","parse"],"sources":["D:/TaskManager-master/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\nimport { ADDTASK, DELETETASK, GETALLTASK, LOGIN, MARKREADTASK, REGISTER } from './apiConstants';\n\n// Configure axios defaults\naxios.defaults.withCredentials = true;\n\n// Add request interceptor for debugging\naxios.interceptors.request.use(request => {\n    console.log('Starting Request:', request);\n    return request;\n});\n\n// Add response interceptor for debugging\naxios.interceptors.response.use(\n    response => {\n        console.log('Response:', response);\n        return response;\n    },\n    error => {\n        console.error('Response Error:', {\n            message: error.message,\n            response: error.response,\n            request: error.request,\n            config: error.config\n        });\n        return Promise.reject(error);\n    }\n);\n\nexport const login = async (data) => {\n    try {\n        console.log('Attempting to login with URL:', LOGIN);\n        const response = await axios.post(LOGIN, data, {\n            headers: {\n                'Content-Type': 'application/json',\n            }\n        });\n        console.log('Login response:', response);\n        return response;\n    } catch (error) {\n        console.error('Login error details:', {\n            message: error.message,\n            response: error.response,\n            request: error.request,\n            config: error.config\n        });\n        throw error;\n    }\n}\n\nexport const register = (data) => {\n    return axios.post(REGISTER, data);\n}\nexport const addtask = (data) => {\n    let token = getToken();\n    console.log(\"token\", token);\n    return axios.post(ADDTASK, data, {\n        headers: {\n            auth: token\n        }\n    });\n}\n\nexport const getTaskList = (data) => {\n    let token = getToken();\n    return axios.get(GETALLTASK, {\n        headers: {\n            auth: token\n        }\n    });\n}\nexport const deleteTask = (data) => {\n    let token = getToken();\n\n    return axios.post(DELETETASK, data, {\n        headers: {\n            auth: token\n        }\n    });\n}\n\nexport const markReadTask = (data) => {\n    let token = getToken();\n\n    return axios.post(MARKREADTASK, data, {\n        headers: {\n            auth: token\n        }\n    });\n}\n\n\nexport function getToken() {\n    let user = localStorage.getItem('user');\n    if (!user) return;\n    const userObj = JSON.parse(user);\n    return userObj.token;\n}\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}